# FIT跑步数据分析器 v1.2.0 发布检查清单

**发布版本**: v1.2.0  
**发布日期**: 2025-12-09  
**检查人**: _______  
**检查日期**: _______

## 📋 发布前检查清单

### 1. 代码质量检查

- [ ] 所有功能正常工作
- [ ] 已修复所有已知关键bug
- [ ] 代码已格式化和清理
- [ ] 移除所有console.log调试代码
- [ ] 移除所有TODO/FIXME标记（或已记录）

### 2. 版本信息更新

- [x] `config.py` 版本号更新为 "1.2.0"
- [x] `README.md` 版本信息更新为 v1.2.0
- [x] `README.md` 发布日期更新为 2025-12-09
- [x] 创建 `RELEASE_v1.2.0.md` 发布说明
- [x] 创建 `RELEASE_CHECKLIST_v1.2.0.md` (本文件)

### 3. 构建配置检查

- [x] `fitanalysis.spec` 的 excludes 列表已更新
- [x] 排除测试文件: test_api, test_iq_fix
- [x] 排除诊断工具: diagnose_fit, verify_vosc_fix  
- [x] 排除前端测试: charts.test
- [ ] 验证 datas 配置正确（frontend, data, backend）
- [ ] 验证 hiddenimports 包含所有必需模块

### 4. 测试验证

#### 功能测试
- [ ] **文件上传**: 成功上传FIT文件并解析
- [ ] **活动列表**: 页面自动加载活动列表
- [ ] **活动详情**: 点击活动可查看完整数据
- [ ] **单活动图表**: 选择字段显示秒级趋势图
- [ ] **X轴切换**: 时间/距离切换功能正常
- [ ] **多活动对比**: 选择多个活动单字段对比
- [ ] **CSV导出**: 导出单活动和对比数据
- [ ] **数据持久化**: 重启后数据仍然存在

#### 浏览器兼容性
- [ ] Chrome/Edge (推荐浏览器)
- [ ] Firefox
- [ ] 其他浏览器 (可选)

#### 性能测试
- [ ] 上传大文件（>5MB）性能正常
- [ ] 10+活动列表加载流畅
- [ ] 图表渲染无明显卡顿
- [ ] 多活动对比（5+活动）性能可接受

#### 边界测试
- [ ] 空数据状态显示正常
- [ ] 错误文件上传提示清晰
- [ ] 端口占用时提示明确
- [ ] 网络断开后本地功能正常

### 5. 构建打包

- [ ] 清理旧的 `dist/` 和 `build/` 目录
- [ ] 运行 `python build.py` 成功
- [ ] 验证 `dist/fitanalysis/` 目录结构
- [ ] 确认 `fitanalysis.exe` 存在
- [ ] 确认 `启动服务器.bat` 存在
- [ ] 确认 `_internal/` 目录存在
- [ ] 确认 `data/` 目录为空（仅.gitkeep）
- [ ] 确认不包含测试文件

### 6. 发布包内容验证

#### 必须包含的文件
- [ ] `fitanalysis.exe`
- [ ] `启动服务器.bat`
- [ ] `_internal/` (包含所有依赖)
- [ ] `data/` (空目录)
- [ ] `README.md`
- [ ] `RELEASE_v1.2.0.md`

#### 必须排除的文件
- [ ] 测试文件 (test_*.py, *.test.js)
- [ ] 诊断工具 (diagnose_fit.py, verify_vosc_fix.py)
- [ ] 构建脚本 (build.py, fitanalysis.spec)
- [ ] 开发文档 (agent.md, BUGS.md)
- [ ] 旧版本发布文档 (RELEASE_v1.1.0.md等)
- [ ] 测试数据 (546218476_ACTIVITY.fit)
- [ ] 开发环境 (.venv/, __pycache__/, build/)
- [ ] Git文件 (.git/, .gitignore)

### 7. 发布包测试

- [ ] 创建 `fitanalysis_v1.2.0.zip`
- [ ] 在全新目录解压ZIP
- [ ] 双击 `启动服务器.bat` 成功启动
- [ ] 浏览器访问 http://127.0.0.1:8080 正常
- [ ] 上传测试FIT文件成功
- [ ] 所有核心功能正常工作
- [ ] 检查ZIP文件大小（应<50MB）

### 8. 文档检查

- [ ] `README.md` 内容准确完整
- [ ] 安装说明清晰易懂
- [ ] 功能列表完整
- [ ] 技术要求说明清楚
- [ ] 升级说明正确
- [ ] `RELEASE_v1.2.0.md` 内容完整
- [ ] 发布说明准确描述变更

### 9. 清理工作

- [ ] 删除或归档旧版本发布文档
- [ ] 清理临时文件和缓存
- [ ] 更新项目 README.md 的版本历史
- [ ] 备份源代码

### 10. 发布准备

- [ ] 确定发布渠道（网盘/GitHub等）
- [ ] 准备发布公告文本
- [ ] 准备用户升级指南
- [ ] 记录本次发布的MD5/SHA256校验码

## 📊 发布包信息

- **包名**: `fitanalysis_v1.2.0.zip`
- **大小**: _____ MB
- **MD5**: _____________________
- **SHA256**: _____________________

## ✅ 最终确认

- [ ] 所有检查项已完成
- [ ] 所有测试已通过
- [ ] 发布包已验证
- [ ] 文档已更新
- [ ] 准备发布

## 📝 备注

发布说明:
_______________________________________________
_______________________________________________
_______________________________________________

遗留问题:
_______________________________________________
_______________________________________________
_______________________________________________

下一版本计划:
_______________________________________________
_______________________________________________
_______________________________________________

---

**检查人签名**: _______  
**日期**: _______  
**批准发布**: [ ] 是 [ ] 否
